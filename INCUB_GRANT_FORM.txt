      {/* Add Grant Dialog */}
      <Dialog open={isAddGrantDialogOpen} onOpenChange={setIsAddGrantDialogOpen}>
        <DialogContent className="max-w-4xl max-h-[90vh] overflow-y-auto">
          <DialogHeader>
            <DialogTitle>Add New Grant</DialogTitle>
            <p className="text-sm text-gray-500">* Required fields</p>
          </DialogHeader>
          <div className="space-y-6">
            {/* Basic Information */}
            <div className="space-y-4">
              <h3 className="font-semibold text-lg border-b pb-2">Basic Information</h3>
              <div className="grid grid-cols-2 gap-4">
                <div>
                  <Label htmlFor="grant-name">Grant Name *</Label>
                  <Input
                    id="grant-name"
                    value={newGrant.name}
                    onChange={(e) => setNewGrant({...newGrant, name: e.target.value})}
                    placeholder="Enter grant name"
                    required
                  />
                </div>
                <div>
                  <Label htmlFor="sector">Sector *</Label>
                  <Select 
                    value={newGrant.sector} 
                    onValueChange={(value) => setNewGrant({...newGrant, sector: value})}
                  >
                    <SelectTrigger>
                      <SelectValue placeholder="Select sector" />
                    </SelectTrigger>
                    <SelectContent>
                      {['Technology', 'Healthcare', 'Fintech', 'E-commerce', 'Education', 'Manufacturing', 'Agriculture', 'Clean Energy', 'Biotech', 'AI/Machine Learning', 'Other'].map((sector) => (
                        <SelectItem key={sector} value={sector}>
                          {sector}
                        </SelectItem>
                      ))}
                    </SelectContent>
                  </Select>
                  {newGrant.sector === 'Other' && (
                    <Input
                      className="mt-2"
                      value={newGrant.sector_other}
                      onChange={(e) => setNewGrant({...newGrant, sector_other: e.target.value})}
                      placeholder="Specify other sector"
                    />
                  )}
                </div>
              </div>
              <div>
                <Label htmlFor="eligibility">Eligibility Criteria</Label>
                <Textarea
                  id="eligibility"
                  value={newGrant.eligibility}
                  onChange={(e) => setNewGrant({...newGrant, eligibility: e.target.value})}
                  placeholder="Enter eligibility criteria"
                />
              </div>
            </div>

            {/* Funding Details */}
            <div className="space-y-4">
              <h3 className="font-semibold text-lg border-b pb-2">Funding Details</h3>
              <div className="grid grid-cols-2 gap-4">
                <div>
                  <Label htmlFor="funding-amount">Funding Amount</Label>
                  <Input
                    id="funding-amount"
                    value={newGrant.funding_amount}
                    onChange={(e) => setNewGrant({...newGrant, funding_amount: e.target.value})}
                    placeholder="e.g., â‚¹10,00,000"
                  />
                </div>
                <div>
                  <Label htmlFor="funding-type">Funding Type</Label>
                  <Input
                    id="funding-type"
                    value={newGrant.funding_type}
                    onChange={(e) => setNewGrant({...newGrant, funding_type: e.target.value})}
                    placeholder="e.g., Grant, Loan, Equity"
                  />
                </div>
                <div>
                  <Label htmlFor="funding-ratio">Funding Ratio</Label>
                  <Input
                    id="funding-ratio"
                    value={newGrant.funding_ratio}
                    onChange={(e) => setNewGrant({...newGrant, funding_ratio: e.target.value})}
                    placeholder="e.g., 100%, 80%"
                  />
                </div>
                <div>
                  <Label htmlFor="co-investment">Co-investment Requirement</Label>
                  <Input
                    id="co-investment"
                    value={newGrant.co_investment_requirement}
                    onChange={(e) => setNewGrant({...newGrant, co_investment_requirement: e.target.value})}
                    placeholder="e.g., Yes, No"
                  />
                </div>
                <div>
                  <Label htmlFor="matching-investment">Matching Investment</Label>
                  <Input
                    id="matching-investment"
                    value={newGrant.matching_investment}
                    onChange={(e) => setNewGrant({...newGrant, matching_investment: e.target.value})}
                    placeholder="e.g., 20%, 30%"
                  />
                </div>
                <div>
                  <Label htmlFor="repayment-terms">Repayment Terms</Label>
                  <Input
                    id="repayment-terms"
                    value={newGrant.repayment_terms}
                    onChange={(e) => setNewGrant({...newGrant, repayment_terms: e.target.value})}
                    placeholder="e.g., 5 years @ 8%"
                  />
                </div>
              </div>
              <div>
                <Label htmlFor="disbursement">Disbursement Schedule</Label>
                <Input
                  id="disbursement"
                  value={newGrant.disbursement_schedule}
                  onChange={(e) => setNewGrant({...newGrant, disbursement_schedule: e.target.value})}
                  placeholder="e.g., Milestone-based, Quarterly"
                />
              </div>
            </div>

            {/* Application Details */}
            <div className="space-y-4">
              <h3 className="font-semibold text-lg border-b pb-2">Application Details</h3>
              <div className="grid grid-cols-2 gap-4">
                <div>
                  <Label htmlFor="application-link">Application Link</Label>
                  <Input
                    id="application-link"
                    value={newGrant.application_link}
                    onChange={(e) => setNewGrant({...newGrant, application_link: e.target.value})}
                    placeholder="https://example.com/apply"
                  />
                </div>
                <div>
                  <Label htmlFor="deadline">Deadline</Label>
                  <Input
                    id="deadline"
                    type="date"
                    value={newGrant.deadline}
                    onChange={(e) => setNewGrant({...newGrant, deadline: e.target.value})}
                  />
                </div>
                <div>
                  <Label htmlFor="documents">Documents Required</Label>
                  <Input
                    id="documents"
                    value={newGrant.documents_required}
                    onChange={(e) => setNewGrant({...newGrant, documents_required: e.target.value})}
                    placeholder="e.g., Business Plan, Pitch Deck"
                  />
                </div>
                <div>
                  <Label htmlFor="contact-info">Contact Info</Label>
                  <Input
                    id="contact-info"
                    value={newGrant.contact_info}
                    onChange={(e) => setNewGrant({...newGrant, contact_info: e.target.value})}
                    placeholder="contact@example.com"
                  />
                </div>
              </div>
            </div>

            {/* Location & Focus */}
            <div className="space-y-4">
              <h3 className="font-semibold text-lg border-b pb-2">Location & Focus Areas</h3>
              <div className="grid grid-cols-2 gap-4">
                <div>
                  <Label htmlFor="region">Region/Focus</Label>
                  <Input
                    id="region"
                    value={newGrant.region_focus}
                    onChange={(e) => setNewGrant({...newGrant, region_focus: e.target.value})}
                    placeholder="e.g., National, Regional"
                  />
                </div>
                <div>
                  <Label htmlFor="place">Place</Label>
                  <Input
                    id="place"
                    value={newGrant.place}
                    onChange={(e) => setNewGrant({...newGrant, place: e.target.value})}
                    placeholder="e.g., Mumbai, Delhi"
                  />
                </div>
                <div>
                  <Label htmlFor="stage">Stage of Startup</Label>
                  <Select 
                    value={newGrant.stage} 
                    onValueChange={(value) => setNewGrant({...newGrant, stage: value})}
                  >
                    <SelectTrigger>
                      <SelectValue placeholder="Select stage" />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="Ideation">Ideation</SelectItem>
                      <SelectItem value="Start-up">Start-up</SelectItem>
                      <SelectItem value="Growth/Scale-up">Growth/Scale-up</SelectItem>
                      <SelectItem value="Established">Established</SelectItem>
                    </SelectContent>
                  </Select>
                </div>
                <div>
                  <Label htmlFor="sector-focus">Sector Focus</Label>
                  <Input
                    id="sector-focus"
                    value={newGrant.sector_focus}
                    onChange={(e) => setNewGrant({...newGrant, sector_focus: e.target.value})}
                    placeholder="e.g., Technology, Healthcare"
                  />
                </div>
                <div>
                  <Label htmlFor="gender-focus">Gender Focus</Label>
                  <Input
                    id="gender-focus"
                    value={newGrant.gender_focus}
                    onChange={(e) => setNewGrant({...newGrant, gender_focus: e.target.value})}
                    placeholder="e.g., Woman-owned, General"
                  />
                </div>
              </div>
            </div>

            {/* Innovation & Impact */}
            <div className="space-y-4">
              <h3 className="font-semibold text-lg border-b pb-2">Innovation & Impact</h3>
              <div className="grid grid-cols-2 gap-4">
                <div>
                  <Label htmlFor="innovation-type">Innovation Type</Label>
                  <Input
                    id="innovation-type"
                    value={newGrant.innovation_type}
                    onChange={(e) => setNewGrant({...newGrant, innovation_type: e.target.value})}
                    placeholder="e.g., Product, Process, Social"
                  />
                </div>
                <div>
                  <Label htmlFor="trl">TRL (Technology Readiness Level)</Label>
                  <Input
                    id="trl"
                    value={newGrant.trl}
                    onChange={(e) => setNewGrant({...newGrant, trl: e.target.value})}
                    placeholder="e.g., 5-7, 3-5"
                  />
                </div>
                <div>
                  <Label htmlFor="impact-criteria">Impact Criteria</Label>
                  <Input
                    id="impact-criteria"
                    value={newGrant.impact_criteria}
                    onChange={(e) => setNewGrant({...newGrant, impact_criteria: e.target.value})}
                    placeholder="e.g., Social Impact, Economic Impact"
                  />
                </div>
                <div>
                  <Label htmlFor="success-metrics">Success Metrics</Label>
                  <Input
                    id="success-metrics"
                    value={newGrant.success_metrics}
                    onChange={(e) => setNewGrant({...newGrant, success_metrics: e.target.value})}
                    placeholder="e.g., Revenue Growth, User Acquisition"
                  />
                </div>
              </div>
            </div>

            {/* Program Details */}
            <div className="space-y-4">
              <h3 className="font-semibold text-lg border-b pb-2">Program Details</h3>
              <div className="grid grid-cols-2 gap-4">
                <div>
                  <Label htmlFor="program-duration">Program Duration</Label>
                  <Input
                    id="program-duration"
                    value={newGrant.program_duration}
                    onChange={(e) => setNewGrant({...newGrant, program_duration: e.target.value})}
                    placeholder="e.g., 12 months, 18 months"
                  />
                </div>
                <div>
                  <Label htmlFor="mentorship">Mentorship/Training</Label>
                  <Input
                    id="mentorship"
                    value={newGrant.mentorship_training}
                    onChange={(e) => setNewGrant({...newGrant, mentorship_training: e.target.value})}
                    placeholder="e.g., Yes, No"
                  />
                </div>
                <div>
                  <Label htmlFor="soft-approval">Soft Approval</Label>
                  <Select 
                    value={newGrant.soft_approval} 
                    onValueChange={(value) => setNewGrant({...newGrant, soft_approval: value})}
                  >
                    <SelectTrigger>
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="Yes">Yes</SelectItem>
                      <SelectItem value="No">No</SelectItem>
                    </SelectContent>
                  </Select>
                </div>
              </div>
            </div>

            <Button onClick={handleAddGrant} className="w-full">
              Add Grant
            </Button>
          </div>
        </DialogContent>
      </Dialog>
